general:
  backend: "a1111"
  a1111_endpoint: "http://127.0.0.1:7860"
  model_checkpoint: ""
  # Нові параметри
  max_retries: 3
  retry_delay: 2
  timeout_seconds: 300

b_pass:
  prompt: "ultra sharp contouring, very strong cheekbone definition, precise cheek lines, crisp jawline and face oval, defined eyelashes, sharp eyeliner, volumized lashes, defined eyebrows, precise lip liner, rich lipstick, subtle blush, glossy skin highlights, dewy specular highlights on cheekbones and nose bridge, high-detail eyes, slight nose contour, cinematic portrait lighting, studio beauty photo"
  negative: "waxy skin, plastic look, smeared makeup, halo glow, blown highlights, color bleeding, blurry edges, soft focus, gaussian blur"
  denoise: 0.18
  cfg: 5.0
  steps: 32
  sampler: "DPM++ SDE Karras"
  mask_blur_px: 6

  # ControlNet 0 — SoftEdge SDXL (shape keeper)
  use_controlnet: true
  controlnet_module: "softedge_hed"
  controlnet_model: "controlnet-sd-xl-1.0-softedge-dexined.safetensors"
  controlnet_weight: 0.58
  controlnet_guidance_start: 0.00
  controlnet_guidance_end: 0.60
  controlnet_mode: 1

  # ControlNet 1 — Canny/Lineart from our contour_map.png
  use_controlnet2: true
  controlnet2_module: "canny"
  controlnet2_model: "controlnet-sd-xl-1.0-canny.safetensors"
  controlnet2_weight: 0.60
  controlnet2_guidance_start: 0.25
  controlnet2_guidance_end: 0.90
  controlnet2_mode: 2

  # ADetailer — face-only inpaint
  use_adetailer: true
  ad_model: "face_yolov8n.pt"
  ad_confidence: 0.33
  ad_mask_min_ratio: 0.01
  ad_dilate_erode: 16
  ad_mask_blur: 14
  ad_denoise: 0.16
  ad_prompt: "ultra sharp eyelashes, cat-eye razor eyeliner, detailed eyes, defined eyebrows, precise bold lip liner, glossy lips, cheekbone highlight, glossy nose bridge highlight"
  ad_negative: "smeared mascara, blurry eyelashes, feathered lip liner"

  # ADetailer 2 — optional second face pass
  use_adetailer2: true
  ad2_model: "face_yolov8n.pt"
  ad2_confidence: 0.25
  ad2_mask_min_ratio: 0.005
  ad2_dilate_erode: 16
  ad2_mask_blur: 14
  ad2_denoise: 0.16

io:
  input_dir: "input"
  work_dir: "work"
  output_dir: "output"
  # Нові параметри
  supported_formats: ["png", "jpg", "jpeg", "webp"]
  backup_original: true
  create_thumbnails: false

# Нова секція для налаштування якості
quality:
  # Автоматичне тестування якості результатів
  enable_quality_check: true
  min_face_detection_confidence: 0.5
  max_blur_threshold: 100
  min_sharpness_score: 0.6
  
  # Налаштування для різних типів зображень
  portrait_mode:
    enhanced_cheekbones: true
    enhanced_eyes: true
    enhanced_lips: true
    skin_smoothing: 0.3
  
  group_mode:
    enhanced_cheekbones: false
    enhanced_eyes: true
    enhanced_lips: false
    skin_smoothing: 0.5

# Нова секція для логування
logging:
  level: "INFO"
  file_logging: true
  log_file: "adetailer_batch.log"
  max_log_size_mb: 10
  backup_count: 3
